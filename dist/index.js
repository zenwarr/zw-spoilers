!function(e,t){for(var o in t)e[o]=t[o]}(exports,function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){e(t,o);function n(){this.constructor=t}t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=o(1);t.DefaultOptions={rootSelector:".js-spoiler",headSelector:".js-spoiler__head",bodySelector:".js-spoiler__body",openedClass:"js-spoiler--opened",closedClass:"js-spoiler--closed",initedClass:"js-spoiler--inited",beforeChangeStateEvent:"before-spoiler-change-state",afterChangeStateEvent:"after-spoiler-change-state"};var i=function(e){n(o,e);function o(o,n){var r=e.call(this,o,n)||this;r._isOpened=!1;var i=r.root.querySelector(r.options.headSelector||t.DefaultOptions.headSelector||"");return i&&i.addEventListener("click",r._onHeadClick.bind(r)),r.options.openedClass&&r.root.classList.contains(r.options.openedClass)?r.setOpened(!0):r.options.closedClass&&r.root.classList.add(r.options.closedClass),r.options.initedClass&&r.root.classList.add(r.options.initedClass),r}return o.prototype.toggle=function(){return this.setOpened(!this.opened)},Object.defineProperty(o.prototype,"opened",{get:function(){return this._isOpened},enumerable:!0,configurable:!0}),o.prototype.setOpened=function(e){if((e=!!e)===this._isOpened)return!0;if(this.options.beforeChangeStateEvent){var t=new CustomEvent(this.options.beforeChangeStateEvent,{bubbles:!0,cancelable:!0,detail:{newStateIsOpened:e}});if(!this.root.dispatchEvent(t))return!1}if(this._isOpened=e,this.options.openedClass&&this.root.classList.toggle(this.options.openedClass,this._isOpened),this.options.closedClass&&this.root.classList.toggle(this.options.closedClass,!this._isOpened),this.options.afterChangeStateEvent){var o=new CustomEvent(this.options.afterChangeStateEvent,{bubbles:!0,cancelable:!1,detail:{newStateIsOpened:e}});this.root.dispatchEvent(o)}return!0},o.prototype._onHeadClick=function(e){this.toggle(),e.preventDefault()},o}(r.Component);t.Spoiler=i,t.DefaultGroupOptions={rootSelector:".js-spoiler-group",spoilerRootSelector:t.DefaultOptions.rootSelector,spoilerAfterChangeStateEvent:t.DefaultOptions.afterChangeStateEvent,exclusiveAttr:"data-spoiler-group-exclusive",defaultExclusive:!1,openedIndexAttr:"data-spoiler-group-opened-index",defaultOpenedIndex:-1};var s=function(e){n(o,e);function o(o,n){var i=e.call(this,o,n)||this;if(i._curOpenedSpoiler=null,i._exclusive=!1,r.checkBinaryOptionAttr(i.root,i.options.exclusiveAttr,i.options.defaultExclusive||!1)&&(i._exclusive=!0),i.root.querySelector(i.options.rootSelector||t.DefaultOptions.rootSelector||""))throw new Error("Spoiler groups cannot be nested");var s=i.options.defaultOpenedIndex||-1;if(i.options.openedIndexAttr&&i.root.hasAttribute(i.options.openedIndexAttr)){var p=+(""+i.root.getAttribute(i.options.openedIndexAttr));isNaN(p)||(s=p)}if(!i.options.spoilerAfterChangeStateEvent)throw new Error("spoilerAfterChangeStateEvent option is empty");if(!i.options.spoilerRootSelector)throw new Error("spoilerRootSelector option is empty");var a=i.root.querySelectorAll(i.options.spoilerRootSelector);if(i.exclusive){for(var l=0;l<a.length;++l){var c=t.SpoilerFactory.fromRoot(a[l]);c&&c.opened&&(null!=i._curOpenedSpoiler?c.setOpened(!1):i._curOpenedSpoiler=c)}i.root.addEventListener(i.options.spoilerAfterChangeStateEvent,i._onSpoilerStateChanged.bind(i))}if(null==i._curOpenedSpoiler&&s>=0&&s<a.length){var u=t.SpoilerFactory.fromRoot(a[s]);u&&u.setOpened(!0)}return i}return Object.defineProperty(o.prototype,"exclusive",{get:function(){return this._exclusive},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"spoilerCount",{get:function(){return this.root.querySelectorAll(this.options.spoilerRootSelector||"").length},enumerable:!0,configurable:!0}),o.prototype._onSpoilerStateChanged=function(e){e.detail.newStateIsOpened&&this.exclusive&&(this._curOpenedSpoiler&&this._curOpenedSpoiler.root!==e.target&&this._curOpenedSpoiler.setOpened(!1),this._curOpenedSpoiler=t.SpoilerFactory.fromRoot(e.target))},o}(r.Component);t.SpoilerGroup=s,t.SpoilerFactory=new r.ComponentFactory("spoiler",t.DefaultOptions,i),t.SpoilerGroupFactory=new r.ComponentFactory("spoiler-group",t.DefaultGroupOptions,s)},function(e,t){!function(e,t){for(var o in t)e[o]=t[o]}(t,function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";function n(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(Object.assign)return(u=Object.assign).call.apply(u,[this,e].concat(t));if(void 0===e||null===e)throw new TypeError("assign: Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var s=Object.keys(Object(i)),p=0,a=s.length;p<a;p++){var l=s[p],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n;var u}Object.defineProperty(t,"__esModule",{value:!0}),t.checkBinaryOptionAttr=function(e,t,o){return t&&e.hasAttribute(t)?"false"!==e.getAttribute(t).toLowerCase():!!o};var r=function(){function e(e,t){this._root=e,this._options=t}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e}();t.Component=r;var i=function(){function e(e,t,o){this._compName=e,this._defOptions=t,this._defComponent=o}return e.prototype.init=function(e,t){return this.initByFunc(this.ctorToCreator(t),e)},e.prototype.initByFunc=function(e,t){for(var o=t&&t.rootSelector?t.rootSelector:this._defOptions.rootSelector,n=document.querySelectorAll(o),r=0;r<n.length;++r)this.createCompByFunc(e,n[r],t)},e.prototype.createComp=function(e,t,o){return this.createCompByFunc(this.ctorToCreator(e),t,o)},e.prototype.createCompByFunc=function(t,o,r){r=n({},this._defOptions,r);var i=null;return this._defComponent&&(i=e.fromRoot(this._compName,o)),i||(i=t(o,r),e.setComponent(this._compName,o,i)),i},e.prototype.ctorToCreator=function(e){if(!e&&!this._defComponent)throw new Error("Cannot create component: given type is empty");var t=e||this._defComponent;return function(e,o){return new t(e,o)}},e.prototype.fromRoot=function(t){return e.fromRoot(this._compName,t)},e.fromRoot=function(e,t){return t["__hidden_comp_"+e]||null},e.setComponent=function(e,t,o){t["__hidden_comp_"+e]=o},e}();t.ComponentFactory=i,t.assign=n}]))}]));